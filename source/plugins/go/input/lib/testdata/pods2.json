{"kind":"PodList","apiVersion":"v1","metadata":{},"items":[{"metadata":{"name":"kube-proxy-fqhfk","generateName":"kube-proxy-","namespace":"kube-system","uid":"3ce24f21-ab63-48e1-885c-5a5808b8530c","resourceVersion":"72098987","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"component":"kube-proxy","controller-revision-hash":"75fd4745f5","kubernetes.azure.com/managedby":"aks","pod-template-generation":"11","tier":"node"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:07:48.216163777Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"kube-proxy","uid":"64240692-3fa1-4e66-ba68-2669a8b84e79","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:component":{},"f:controller-revision-hash":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{},"f:tier":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"64240692-3fa1-4e66-ba68-2669a8b84e79\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"kube-proxy\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:requests":{".":{},"f:cpu":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/kubernetes/certs\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/lib/modules\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/run/xtables.lock\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/kubelet\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostNetwork":{},"f:initContainers":{".":{},"k:{\"name\":\"kube-proxy-bootstrap\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:requests":{".":{},"f:cpu":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/sysctl.d\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/lib/modules\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"certificates\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"iptableslock\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"kubeconfig\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"modules\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"sysctls\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"kubeconfig","hostPath":{"path":"/var/lib/kubelet","type":""}},{"name":"certificates","hostPath":{"path":"/etc/kubernetes/certs","type":""}},{"name":"iptableslock","hostPath":{"path":"/run/xtables.lock","type":"FileOrCreate"}},{"name":"sysctls","hostPath":{"path":"/etc/sysctl.d","type":"Directory"}},{"name":"modules","hostPath":{"path":"/lib/modules","type":"Directory"}},{"name":"kube-api-access-nmcmg","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"kube-proxy-bootstrap","image":"mcr.microsoft.com/mirror/docker/library/busybox:1.35","command":["/bin/sh","-c","SYSCTL=/proc/sys/net/netfilter/nf_conntrack_max\necho \"Current net.netfilter.nf_conntrack_max: $(cat $SYSCTL)\"\nDESIRED=$(awk -F= '/net.netfilter.nf_conntrack_max/ {print $2}' /etc/sysctl.d/999-sysctl-aks.conf)\nif [ -z \"$DESIRED\" ]; then\n  DESIRED=$((32768*$(nproc)))\n  if [ $DESIRED -lt 131072 ]; then\n    DESIRED=131072\n  fi\n\n  echo \"AKS custom config for net.netfilter.nf_conntrack_max not set.\"\n  echo \"Setting nf_conntrack_max to $DESIRED (32768 * $(nproc) cores, minimum 131072).\"\n  echo $DESIRED \u003e $SYSCTL\nelse\n  echo \"AKS custom config for net.netfilter.nf_conntrack_max set to $DESIRED.\"\n  echo \"Setting nf_conntrack_max to $DESIRED.\"\n  echo $DESIRED \u003e $SYSCTL\nfi\n"],"resources":{"requests":{"cpu":"100m"}},"volumeMounts":[{"name":"sysctls","mountPath":"/etc/sysctl.d"},{"name":"modules","mountPath":"/lib/modules"},{"name":"kube-api-access-nmcmg","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-proxy","image":"mcr.microsoft.com/oss/kubernetes/kube-proxy:v1.25.11","command":["kube-proxy","--conntrack-max-per-core=0","--metrics-bind-address=0.0.0.0:10249","--cluster-cidr=10.244.0.0/16","--detect-local-mode=ClusterCIDR","--pod-interface-name-prefix=","--v=3"],"env":[{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"requests":{"cpu":"100m"}},"volumeMounts":[{"name":"kubeconfig","readOnly":true,"mountPath":"/var/lib/kubelet"},{"name":"certificates","readOnly":true,"mountPath":"/etc/kubernetes/certs"},{"name":"iptableslock","mountPath":"/run/xtables.lock"},{"name":"modules","mountPath":"/lib/modules"},{"name":"kube-api-access-nmcmg","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"kube-proxy","serviceAccount":"kube-proxy","nodeName":"aks-newpool-21676506-vmss000000","hostNetwork":true,"securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:59Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:08:01Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:08:01Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.224.0.6","podIPs":[{"ip":"10.224.0.6"}],"startTime":"2023-08-03T16:07:48Z","initContainerStatuses":[{"name":"kube-proxy-bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-08-03T16:07:55Z","finishedAt":"2023-08-03T16:07:55Z","containerID":"containerd://d9393d12945fbba56d3521e9ac971806a7ec221423ed3072fd994bfb2da296f2"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/mirror/docker/library/busybox:1.35","imageID":"mcr.microsoft.com/mirror/docker/library/busybox@sha256:7ae8447f3a7f5bccaa765926f25fc038e425cf1b2be6748727bbea9a13102094","containerID":"containerd://d9393d12945fbba56d3521e9ac971806a7ec221423ed3072fd994bfb2da296f2"}],"containerStatuses":[{"name":"kube-proxy","state":{"running":{"startedAt":"2023-08-03T16:08:00Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/kube-proxy:v1.25.11","imageID":"sha256:963969a959a09dd3b70ff62cfd53231a7cd793fff4c6fff4e355439f2bb28de3","containerID":"containerd://a549beaa8c2f93cee2c775ddce4f6af6401be63c9167b071bb2c60633c9b10a8","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"azure-ip-masq-agent-jlfv4","generateName":"azure-ip-masq-agent-","namespace":"kube-system","uid":"072529c3-4297-4d1c-96df-8b8a43ba8932","resourceVersion":"72098978","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"controller-revision-hash":"86d676b776","k8s-app":"azure-ip-masq-agent","kubernetes.azure.com/managedby":"aks","pod-template-generation":"4","tier":"node"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:07:48.216168377Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"azure-ip-masq-agent","uid":"72b38180-3dda-4f4c-be06-b2d5adc02ac1","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:controller-revision-hash":{},"f:k8s-app":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{},"f:tier":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"72b38180-3dda-4f4c-be06-b2d5adc02ac1\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:automountServiceAccountToken":{},"f:containers":{"k:{\"name\":\"azure-ip-masq-agent\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/run/xtables.lock\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostNetwork":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"azure-ip-masq-agent-config-volume\"}":{".":{},"f:name":{},"f:projected":{".":{},"f:defaultMode":{},"f:sources":{}}},"k:{\"name\":\"iptableslock\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"azure-ip-masq-agent-config-volume","projected":{"sources":[{"configMap":{"name":"azure-ip-masq-agent-config","items":[{"key":"ip-masq-agent","path":"ip-masq-agent","mode":444}],"optional":true}},{"configMap":{"name":"azure-ip-masq-agent-config-reconciled","items":[{"key":"ip-masq-agent-reconciled","path":"ip-masq-agent-reconciled","mode":444}],"optional":true}}],"defaultMode":420}},{"name":"iptableslock","hostPath":{"path":"/run/xtables.lock","type":"FileOrCreate"}}],"containers":[{"name":"azure-ip-masq-agent","image":"mcr.microsoft.com/aks/ip-masq-agent-v2:v0.1.7","args":["--v=2","--resync-interval=60"],"env":[{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"500m","memory":"250Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"volumeMounts":[{"name":"azure-ip-masq-agent-config-volume","mountPath":"/etc/config"},{"name":"iptableslock","mountPath":"/run/xtables.lock"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"]}}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","automountServiceAccountToken":false,"nodeName":"aks-newpool-21676506-vmss000000","hostNetwork":true,"securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:53Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:53Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.224.0.6","podIPs":[{"ip":"10.224.0.6"}],"startTime":"2023-08-03T16:07:48Z","containerStatuses":[{"name":"azure-ip-masq-agent","state":{"running":{"startedAt":"2023-08-03T16:07:52Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/aks/ip-masq-agent-v2:v0.1.7","imageID":"sha256:7f0239fd72a8664f0cc0c4203a7bbb616d3de1b64d1dac9094a5a28fb2b750b4","containerID":"containerd://3b988c9fb1dad91e191fbbc8f0db13c37eeaf9a0002b30e75b4fb62a37ee54eb","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"coredns-785fcf7bdd-64ltz","generateName":"coredns-785fcf7bdd-","namespace":"kube-system","uid":"61955adb-6e0a-4b2f-82e6-50dd1c486902","resourceVersion":"72099740","creationTimestamp":"2023-08-03T16:10:09Z","labels":{"k8s-app":"kube-dns","kubernetes.azure.com/managedby":"aks","kubernetes.io/cluster-service":"true","pod-template-hash":"785fcf7bdd","version":"v20"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:10:09.528784720Z","kubernetes.io/config.source":"api","prometheus.io/port":"9153"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"coredns-785fcf7bdd","uid":"c5ea66e5-95d7-4626-b937-58823d7f093f","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:10:09Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:prometheus.io/port":{}},"f:generateName":{},"f:labels":{".":{},"f:k8s-app":{},"f:kubernetes.azure.com/managedby":{},"f:kubernetes.io/cluster-service":{},"f:pod-template-hash":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c5ea66e5-95d7-4626-b937-58823d7f093f\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"coredns\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":53,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":53,\"protocol\":\"UDP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9153,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:add":{},"f:drop":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/coredns\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/coredns/custom\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:seccompProfile":{".":{},"f:type":{}}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"custom-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"config-volume","configMap":{"name":"coredns","items":[{"key":"Corefile","path":"Corefile"}],"defaultMode":420}},{"name":"custom-config-volume","configMap":{"name":"coredns-custom","defaultMode":420,"optional":true}},{"name":"tmp","emptyDir":{}},{"name":"kube-api-access-k78nv","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"coredns","image":"mcr.microsoft.com/oss/kubernetes/coredns:v1.9.4","args":["-conf","/etc/coredns/Corefile"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"},{"name":"metrics","containerPort":9153,"protocol":"TCP"}],"env":[{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"3","memory":"500Mi"},"requests":{"cpu":"100m","memory":"70Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/coredns"},{"name":"custom-config-volume","readOnly":true,"mountPath":"/etc/coredns/custom"},{"name":"tmp","mountPath":"/tmp"},{"name":"kube-api-access-k78nv","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/health","port":8080,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"readinessProbe":{"httpGet":{"path":"/ready","port":8181,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_BIND_SERVICE"],"drop":["all"]},"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"procMount":"Default"}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"coredns","serviceAccount":"coredns","nodeName":"aks-newpool-21676506-vmss000000","securityContext":{"seccompProfile":{"type":"RuntimeDefault"}},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.azure.com/cluster","operator":"Exists"},{"key":"type","operator":"NotIn","values":["virtual-kubelet"]},{"key":"kubernetes.io/os","operator":"In","values":["linux"]}]}]},"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"preference":{"matchExpressions":[{"key":"kubernetes.azure.com/mode","operator":"In","values":["system"]}]}}]},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":10,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"k8s-app","operator":"In","values":["kube-dns"]}]},"topologyKey":"topology.kubernetes.io/zone"}},{"weight":5,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"k8s-app","operator":"In","values":["kube-dns"]}]},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"},{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:20Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"}],"hostIP":"10.224.0.6","podIP":"10.244.1.4","podIPs":[{"ip":"10.244.1.4"}],"startTime":"2023-08-03T16:10:09Z","containerStatuses":[{"name":"coredns","state":{"running":{"startedAt":"2023-08-03T16:10:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/coredns:v1.9.4","imageID":"sha256:4973d030453ebba0706b29c636612e8dcb299d34500ac5466ce535e0c53b866f","containerID":"containerd://acc8de4812ca48ba550254d4b1e261e531655e3a5e02bd9810d00d012edc6bca","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"metrics-server-7757d565cf-m85vj","generateName":"metrics-server-7757d565cf-","namespace":"kube-system","uid":"550c1b3f-946c-4ab6-917f-425828a359a4","resourceVersion":"72100078","creationTimestamp":"2023-08-03T16:11:06Z","labels":{"k8s-app":"metrics-server","kubernetes.azure.com/managedby":"aks","pod-template-hash":"7757d565cf"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:11:06.988329739Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"metrics-server-7757d565cf","uid":"596c0c8e-ad95-46f5-9ef2-6225652d791d","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:11:06Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:k8s-app":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"596c0c8e-ad95-46f5-9ef2-6225652d791d\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"metrics-server\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4443,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"metrics-server-vpa\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"MY_POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"MY_POD_NAMESPACE\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/config\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:seccompProfile":{".":{},"f:type":{}}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"metrics-server-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}},"k:{\"name\":\"tmp-dir\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"tmp-dir","emptyDir":{}},{"name":"metrics-server-config-volume","configMap":{"name":"metrics-server-config","defaultMode":420,"optional":true}},{"name":"kube-api-access-k2wtk","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"metrics-server-vpa","image":"mcr.microsoft.com/oss/kubernetes/autoscaler/addon-resizer:1.8.19","command":["/pod_nanny","--config-dir=/etc/config","--cpu=44m","--extra-cpu=0.5m","--memory=51Mi","--extra-memory=4Mi","--poll-period=180000","--threshold=5","--deployment=metrics-server","--container=metrics-server"],"env":[{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"MY_POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"100m","memory":"300Mi"},"requests":{"cpu":"5m","memory":"30Mi"}},"volumeMounts":[{"name":"metrics-server-config-volume","mountPath":"/etc/config"},{"name":"kube-api-access-k2wtk","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"metrics-server","image":"mcr.microsoft.com/oss/kubernetes/metrics-server:v0.6.3","command":["/metrics-server","--kubelet-insecure-tls","--kubelet-preferred-address-types=InternalIP","--tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384","--cert-dir=/tmp","--secure-port=4443"],"ports":[{"name":"ms-https","containerPort":4443,"protocol":"TCP"}],"env":[{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"}],"resources":{"limits":{"cpu":"45m","memory":"59Mi"},"requests":{"cpu":"45m","memory":"59Mi"}},"volumeMounts":[{"name":"tmp-dir","mountPath":"/tmp"},{"name":"kube-api-access-k2wtk","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/livez","port":"ms-https","scheme":"HTTPS"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/readyz","port":"ms-https","scheme":"HTTPS"},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"metrics-server","serviceAccount":"metrics-server","nodeName":"aks-newpool-21676506-vmss000000","securityContext":{"seccompProfile":{"type":"RuntimeDefault"}},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.azure.com/cluster","operator":"Exists"},{"key":"type","operator":"NotIn","values":["virtual-kubelet"]},{"key":"kubernetes.io/os","operator":"In","values":["linux"]}]}]},"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"preference":{"matchExpressions":[{"key":"kubernetes.azure.com/mode","operator":"In","values":["system"]}]}}]},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":10,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"k8s-app","operator":"In","values":["metrics-server"]}]},"topologyKey":"topology.kubernetes.io/zone"}},{"weight":5,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"k8s-app","operator":"In","values":["metrics-server"]}]},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:11:06Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:12:12Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:12:12Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:11:06Z"}],"hostIP":"10.224.0.6","podIP":"10.244.1.7","podIPs":[{"ip":"10.244.1.7"}],"startTime":"2023-08-03T16:11:06Z","containerStatuses":[{"name":"metrics-server","state":{"running":{"startedAt":"2023-08-03T16:11:08Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/metrics-server:v0.6.3","imageID":"sha256:dc3fa6e8352e5890d46fe01ab84a7761a97de3d13a3d2858af461203532ba457","containerID":"containerd://c6bc424f12a76c3ec9340e700a2df9019bf560bf5294b7cfca49f42686088414","started":true},{"name":"metrics-server-vpa","state":{"running":{"startedAt":"2023-08-03T16:11:07Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/autoscaler/addon-resizer:1.8.19","imageID":"sha256:7b8e7ae7c6d3057b8e80ce0349d4103a739444dba5226b88ab5a347fda66792e","containerID":"containerd://0f4daa52c9ce6ed30f14df868f0c7b21b01aadf7cb3ab6c864b854c84a721f58","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"cloud-node-manager-wj7zx","generateName":"cloud-node-manager-","namespace":"kube-system","uid":"8dd85f3a-d7dc-4f95-88db-47db9f932c59","resourceVersion":"72098981","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"controller-revision-hash":"6fc576d64c","k8s-app":"cloud-node-manager","kubernetes.azure.com/managedby":"aks","pod-template-generation":"7"},"annotations":{"aks.microsoft.com/temp-drain-annotation":"2023-08-03T16:10:07+0000","cluster-autoscaler.kubernetes.io/daemonset-pod":"true","kubernetes.io/config.seen":"2023-08-03T16:07:48.216155477Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"cloud-node-manager","uid":"02dc04cf-9bbf-43e6-b259-886130714e37","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:cluster-autoscaler.kubernetes.io/daemonset-pod":{}},"f:generateName":{},"f:labels":{".":{},"f:controller-revision-hash":{},"f:k8s-app":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"02dc04cf-9bbf-43e6-b259-886130714e37\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"cloud-node-manager\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"NODE_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostNetwork":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:seccompProfile":{".":{},"f:type":{}}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}}]},"spec":{"volumes":[{"name":"kube-api-access-w4669","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"cloud-node-manager","image":"mcr.microsoft.com/oss/kubernetes/azure-cloud-node-manager:v1.25.15","command":["cloud-node-manager","--node-name=$(NODE_NAME)","--wait-routes"],"env":[{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"cpu":"50m","memory":"50Mi"}},"volumeMounts":[{"name":"kube-api-access-w4669","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cloud-node-manager","serviceAccount":"cloud-node-manager","nodeName":"aks-newpool-21676506-vmss000000","hostNetwork":true,"securityContext":{"seccompProfile":{"type":"RuntimeDefault"}},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:53Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:53Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.224.0.6","podIPs":[{"ip":"10.224.0.6"}],"startTime":"2023-08-03T16:07:48Z","containerStatuses":[{"name":"cloud-node-manager","state":{"running":{"startedAt":"2023-08-03T16:07:52Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/azure-cloud-node-manager:v1.25.15","imageID":"sha256:ad40add5362ee2d4f14e8ee62a5d4939a5721efd195eb48a06dea840f944e9e8","containerID":"containerd://8776c462941b75dccd61d7e887cb88c7d75ba46df6d0172f265502c3cf7e2203","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"csi-azurefile-node-2tchw","generateName":"csi-azurefile-node-","namespace":"kube-system","uid":"0c6c07be-b920-433d-8790-8c82b69ccda8","resourceVersion":"72098984","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"app":"csi-azurefile-node","controller-revision-hash":"867b5c8dd6","kubernetes.azure.com/managedby":"aks","pod-template-generation":"9"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:07:48.216161577Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"csi-azurefile-node","uid":"fbfe8a53-315d-4dd3-9632-473cbacb0ea6","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:controller-revision-hash":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"fbfe8a53-315d-4dd3-9632-473cbacb0ea6\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"azurefile\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"AZURE_CREDENTIAL_FILE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CSI_ENDPOINT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBE_NODE_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":29613,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:hostPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/dev\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/kubernetes/\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/kubelet/\"}":{".":{},"f:mountPath":{},"f:mountPropagation":{},"f:name":{}}}},"k:{\"name\":\"liveness-probe\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"node-driver-registrar\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"DRIVER_REG_SOCK_PATH\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/registration\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostNetwork":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"azure-cred\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"device-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"mountpoint-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"registration-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"socket-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/file.csi.azure.com","type":"DirectoryOrCreate"}},{"name":"mountpoint-dir","hostPath":{"path":"/var/lib/kubelet/","type":"DirectoryOrCreate"}},{"name":"registration-dir","hostPath":{"path":"/var/lib/kubelet/plugins_registry/","type":"DirectoryOrCreate"}},{"name":"azure-cred","hostPath":{"path":"/etc/kubernetes/","type":"DirectoryOrCreate"}},{"name":"device-dir","hostPath":{"path":"/dev","type":"Directory"}},{"name":"kube-api-access-lsc9g","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"liveness-probe","image":"mcr.microsoft.com/oss/kubernetes-csi/livenessprobe:v2.10.0","args":["--csi-address=/csi/csi.sock","--probe-timeout=3s","--health-port=29613","--v=2"],"env":[{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"memory":"100Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"kube-api-access-lsc9g","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"node-driver-registrar","image":"mcr.microsoft.com/oss/kubernetes-csi/csi-node-driver-registrar:v2.8.0","args":["--csi-address=$(ADDRESS)","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)","--v=2"],"env":[{"name":"ADDRESS","value":"/csi/csi.sock"},{"name":"DRIVER_REG_SOCK_PATH","value":"/var/lib/kubelet/plugins/file.csi.azure.com/csi.sock"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"memory":"100Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"registration-dir","mountPath":"/registration"},{"name":"kube-api-access-lsc9g","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/csi-node-driver-registrar","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)","--mode=kubelet-registration-probe"]},"initialDelaySeconds":60,"timeoutSeconds":30,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"azurefile","image":"mcr.microsoft.com/oss/kubernetes-csi/azurefile-csi:v1.24.3","args":["--v=2","--endpoint=$(CSI_ENDPOINT)","--nodeid=$(KUBE_NODE_NAME)","--enable-get-volume-stats=true","--mount-permissions=0777"],"ports":[{"name":"healthz","hostPort":29613,"containerPort":29613,"protocol":"TCP"}],"env":[{"name":"CSI_ENDPOINT","value":"unix:///csi/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"AZURE_CREDENTIAL_FILE","value":"/etc/kubernetes/azure.json"}],"resources":{"limits":{"memory":"400Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"mountpoint-dir","mountPath":"/var/lib/kubelet/","mountPropagation":"Bidirectional"},{"name":"azure-cred","mountPath":"/etc/kubernetes/"},{"name":"device-dir","mountPath":"/dev"},{"name":"kube-api-access-lsc9g","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":"healthz","scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"csi-azurefile-node-sa","serviceAccount":"csi-azurefile-node-sa","nodeName":"aks-newpool-21676506-vmss000000","hostNetwork":true,"securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.224.0.6","podIPs":[{"ip":"10.224.0.6"}],"startTime":"2023-08-03T16:07:48Z","containerStatuses":[{"name":"azurefile","state":{"running":{"startedAt":"2023-08-03T16:07:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/azurefile-csi:v1.24.3","imageID":"sha256:2344f81e67ed16789b737ecd9370450bae26c30ff14f5581a377db486682b0de","containerID":"containerd://4f1c7792df3a150f3ca0d1e77a5a131b200f3a29412e401f65b5abe10866140a","started":true},{"name":"liveness-probe","state":{"running":{"startedAt":"2023-08-03T16:07:52Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/livenessprobe:v2.10.0","imageID":"sha256:a0a744de06b9862ee665fcf47a17ec3425f67915a2e603f5636f6eba17378c7e","containerID":"containerd://a42757a4505f694f0e1e8b928bdf23a4ded7f38bfb106ef5c37a577adf8de233","started":true},{"name":"node-driver-registrar","state":{"running":{"startedAt":"2023-08-03T16:07:53Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/csi-node-driver-registrar:v2.8.0","imageID":"sha256:aa15d611f49d8331e2266cf02d8f5fb0d32caad598897433fbd46234b88ebaf4","containerID":"containerd://db97714f36ee30d7dd7165122ae93c98dbbe70fd62a6de1895b6b30754376aca","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"ama-logs-24r5w","generateName":"ama-logs-","namespace":"kube-system","uid":"bc7c046f-1164-4153-a87d-b1ab64556d8b","resourceVersion":"72098971","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"component":"ama-logs-agent","controller-revision-hash":"cfcb9bdcc","kubernetes.azure.com/managedby":"aks","pod-template-generation":"5","tier":"node"},"annotations":{"WSID":"ZWM5MmQzZjMtOGEwMS00ZjQ1LThkOWItMWNjMmM4MmFhMjEx","agentVersion":"azure-mdsd-1.17.0","dockerProviderVersion":"18.0.1-0","kubernetes.azure.com/no-http-proxy-vars":"true","kubernetes.io/config.seen":"2023-08-03T16:07:48.216165377Z","kubernetes.io/config.source":"api","schema-versions":"v1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"ama-logs","uid":"3e4c44d5-7239-4f58-99ef-a919ac73c223","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:WSID":{},"f:agentVersion":{},"f:dockerProviderVersion":{},"f:kubernetes.azure.com/no-http-proxy-vars":{},"f:schema-versions":{}},"f:generateName":{},"f:labels":{".":{},"f:component":{},"f:controller-revision-hash":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{},"f:tier":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e4c44d5-7239-4f58-99ef-a919ac73c223\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"addon-token-adapter\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AZMON_COLLECT_ENV\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{},"f:drop":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}},"k:{\"name\":\"ama-logs\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"AKS_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_NODE_RESOURCE_GROUP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_REGION\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_RESOURCE_ID\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AZMON_CONTAINERLOGS_ONEAGENT_REGIONS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CONTAINER_MEMORY_LIMIT_IN_BYTES\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{}}},"k:{\"name\":\"CONTROLLER_TYPE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"FBIT_SERVICE_FLUSH_INTERVAL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"FBIT_TAIL_BUFFER_CHUNK_SIZE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"FBIT_TAIL_BUFFER_MAX_SIZE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"NODE_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"USER_ASSIGNED_IDENTITY_CLIENT_ID\"}":{".":{},"f:name":{}},"k:{\"name\":\"USING_AAD_MSI_AUTH\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":25224,\"protocol\":\"UDP\"}":{".":{},"f:containerPort":{},"f:protocol":{}},"k:{\"containerPort\":25225,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/ama-logs-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/settings\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/settings/adx\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/kubernetes/host\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/omsagent-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/hostfs\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/mnt/containers\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/mnt/docker\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/var/lib/docker/containers\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/var/log\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/run/host\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/run/mdsd-PrometheusSidecar\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/run/mdsd-ci\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"ama-logs-prometheus\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"AKS_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_NODE_RESOURCE_GROUP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_REGION\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_RESOURCE_ID\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CONTAINER_MEMORY_LIMIT_IN_BYTES\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{}}},"k:{\"name\":\"CONTAINER_TYPE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CONTROLLER_TYPE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"NODE_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"USER_ASSIGNED_IDENTITY_CLIENT_ID\"}":{".":{},"f:name":{}},"k:{\"name\":\"USING_AAD_MSI_AUTH\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/ama-logs-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/osm-settings\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/settings\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/kubernetes/host\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/omsagent-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/var/run/mdsd-PrometheusSidecar\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsConfig":{".":{},"f:options":{}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"ama-logs-adx-secret\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:optional":{},"f:secretName":{}}},"k:{\"name\":\"ama-logs-secret\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}},"k:{\"name\":\"azure-json-path\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"container-hostname\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"containerlog-path\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"containerlog-path-2\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"containerlog-path-3\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"docker-sock\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"host-log\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"host-root\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"mdsd-prometheus-sock\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"mdsd-sock\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"osm-settings-vol-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}},"k:{\"name\":\"settings-vol-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"host-root","hostPath":{"path":"/","type":""}},{"name":"docker-sock","hostPath":{"path":"/var/run","type":""}},{"name":"mdsd-prometheus-sock","emptyDir":{}},{"name":"container-hostname","hostPath":{"path":"/etc/hostname","type":""}},{"name":"host-log","hostPath":{"path":"/var/log","type":""}},{"name":"mdsd-sock","hostPath":{"path":"/var/run/mdsd-ci","type":""}},{"name":"containerlog-path","hostPath":{"path":"/var/lib/docker/containers","type":""}},{"name":"containerlog-path-2","hostPath":{"path":"/mnt/docker","type":""}},{"name":"containerlog-path-3","hostPath":{"path":"/mnt/containers","type":""}},{"name":"azure-json-path","hostPath":{"path":"/etc/kubernetes","type":""}},{"name":"ama-logs-secret","secret":{"secretName":"ama-logs-secret","defaultMode":420}},{"name":"settings-vol-config","configMap":{"name":"container-azm-ms-agentconfig","defaultMode":420,"optional":true}},{"name":"ama-logs-adx-secret","secret":{"secretName":"ama-logs-adx-secret","defaultMode":420,"optional":true}},{"name":"osm-settings-vol-config","configMap":{"name":"container-azm-ms-osmconfig","defaultMode":420,"optional":true}},{"name":"kube-api-access-5cfcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"addon-token-adapter","image":"mcr.microsoft.com/aks/msi/addon-token-adapter:master.221118.2","command":["/addon-token-adapter"],"args":["--secret-namespace=kube-system","--secret-name=aad-msi-auth-token","--token-server-listening-port=8888","--health-server-listening-port=9999"],"env":[{"name":"AZMON_COLLECT_ENV","value":"false"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"500m","memory":"500Mi"},"requests":{"cpu":"100m","memory":"100Mi"}},"volumeMounts":[{"name":"kube-api-access-5cfcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":9999,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]}}},{"name":"ama-logs","image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","ports":[{"containerPort":25225,"protocol":"TCP"},{"containerPort":25224,"protocol":"UDP"}],"env":[{"name":"USING_AAD_MSI_AUTH","value":"true"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"USER_ASSIGNED_IDENTITY_CLIENT_ID"},{"name":"CONTROLLER_TYPE","value":"DaemonSet"},{"name":"CONTAINER_MEMORY_LIMIT_IN_BYTES","valueFrom":{"resourceFieldRef":{"containerName":"ama-logs","resource":"limits.memory","divisor":"0"}}},{"name":"FBIT_SERVICE_FLUSH_INTERVAL","value":"15"},{"name":"FBIT_TAIL_BUFFER_CHUNK_SIZE","value":"1"},{"name":"AKS_NODE_RESOURCE_GROUP","value":"MC_ci-logs-prod-aks_ci-logs-prod-aks-syslog_eastus"},{"name":"AZMON_CONTAINERLOGS_ONEAGENT_REGIONS","value":"koreacentral,norwayeast,eastus2"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"AKS_CLUSTER_NAME","value":"ci-logs-prod-aks-syslog"},{"name":"AKS_RESOURCE_ID","value":"/subscriptions/9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb/resourceGroups/ci-logs-prod-aks/providers/Microsoft.ContainerService/managedClusters/ci-logs-prod-aks-syslog"},{"name":"AKS_REGION","value":"eastus"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"FBIT_TAIL_BUFFER_MAX_SIZE","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"750Mi"},"requests":{"cpu":"75m","memory":"325Mi"}},"volumeMounts":[{"name":"host-root","readOnly":true,"mountPath":"/hostfs"},{"name":"docker-sock","mountPath":"/var/run/host"},{"name":"host-log","mountPath":"/var/log"},{"name":"mdsd-sock","mountPath":"/var/run/mdsd-ci"},{"name":"mdsd-prometheus-sock","mountPath":"/var/run/mdsd-PrometheusSidecar"},{"name":"containerlog-path","readOnly":true,"mountPath":"/var/lib/docker/containers"},{"name":"containerlog-path-2","readOnly":true,"mountPath":"/mnt/docker"},{"name":"containerlog-path-3","readOnly":true,"mountPath":"/mnt/containers"},{"name":"azure-json-path","mountPath":"/etc/kubernetes/host"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/ama-logs-secret"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/omsagent-secret"},{"name":"settings-vol-config","readOnly":true,"mountPath":"/etc/config/settings"},{"name":"ama-logs-adx-secret","readOnly":true,"mountPath":"/etc/config/settings/adx"},{"name":"kube-api-access-5cfcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/opt/livenessprobe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":15,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"ama-logs-prometheus","image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","env":[{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"USING_AAD_MSI_AUTH","value":"true"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"CONTAINER_TYPE","value":"PrometheusSidecar"},{"name":"CONTAINER_MEMORY_LIMIT_IN_BYTES","valueFrom":{"resourceFieldRef":{"containerName":"ama-logs-prometheus","resource":"limits.memory","divisor":"0"}}},{"name":"AKS_CLUSTER_NAME","value":"ci-logs-prod-aks-syslog"},{"name":"AKS_RESOURCE_ID","value":"/subscriptions/9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb/resourceGroups/ci-logs-prod-aks/providers/Microsoft.ContainerService/managedClusters/ci-logs-prod-aks-syslog"},{"name":"AKS_NODE_RESOURCE_GROUP","value":"MC_ci-logs-prod-aks_ci-logs-prod-aks-syslog_eastus"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"CONTROLLER_TYPE","value":"DaemonSet"},{"name":"USER_ASSIGNED_IDENTITY_CLIENT_ID"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"AKS_REGION","value":"eastus"}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"75m","memory":"225Mi"}},"volumeMounts":[{"name":"azure-json-path","mountPath":"/etc/kubernetes/host"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/ama-logs-secret"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/omsagent-secret"},{"name":"settings-vol-config","readOnly":true,"mountPath":"/etc/config/settings"},{"name":"osm-settings-vol-config","readOnly":true,"mountPath":"/etc/config/osm-settings"},{"name":"mdsd-prometheus-sock","mountPath":"/var/run/mdsd-PrometheusSidecar"},{"name":"kube-api-access-5cfcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/opt/livenessprobe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":15,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"ama-logs","serviceAccount":"ama-logs","nodeName":"aks-newpool-21676506-vmss000000","securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"},{"operator":"Exists","effect":"PreferNoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"dnsConfig":{"options":[{"name":"ndots","value":"3"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:08:12Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:08:12Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.244.1.2","podIPs":[{"ip":"10.244.1.2"}],"startTime":"2023-08-03T16:07:48Z","containerStatuses":[{"name":"addon-token-adapter","state":{"running":{"startedAt":"2023-08-03T16:07:52Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/aks/msi/addon-token-adapter:master.221118.2","imageID":"sha256:6284cbe7030dfa0d79382ea3f86cf3b892d0ee17807b01d921e97a7877e27313","containerID":"containerd://3af987aac7117b5b3731237eede5223579aea14011f13a1608c24584291cde25","started":true},{"name":"ama-logs","state":{"running":{"startedAt":"2023-08-03T16:08:11Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","imageID":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod@sha256:e1568171272f7e1271cf41f9e7c82cb5dccf29a6d515de242f724b11edfdf7c6","containerID":"containerd://033f2a10bf36a43b21d1e8c72e45b575788f9c6c7ec1ae0469b36a9998c22cb6","started":true},{"name":"ama-logs-prometheus","state":{"running":{"startedAt":"2023-08-03T16:08:11Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","imageID":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod@sha256:e1568171272f7e1271cf41f9e7c82cb5dccf29a6d515de242f724b11edfdf7c6","containerID":"containerd://88e065eb0b1833f6e339f958bd0488d3d8b0db32117afbba69809d7680ac1c2a","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"csi-azuredisk-node-9424s","generateName":"csi-azuredisk-node-","namespace":"kube-system","uid":"ccc4b030-2985-4677-b9bd-99c4b2c0f09f","resourceVersion":"72098972","creationTimestamp":"2023-08-03T16:07:46Z","labels":{"app":"csi-azuredisk-node","controller-revision-hash":"88cddb556","kubernetes.azure.com/managedby":"aks","pod-template-generation":"11"},"annotations":{"kubernetes.io/config.seen":"2023-08-03T16:07:48.216166677Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"csi-azuredisk-node","uid":"b13fda05-2d70-4d2b-bf3f-8176f9ff573d","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:07:46Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:controller-revision-hash":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-generation":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"b13fda05-2d70-4d2b-bf3f-8176f9ff573d\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"azuredisk\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"AZURE_CREDENTIAL_FILE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CSI_ENDPOINT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBE_NODE_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":29603,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:hostPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/dev\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/kubernetes/\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/sys/bus/scsi/devices\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/sys/class/scsi_host/\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/kubelet/\"}":{".":{},"f:mountPath":{},"f:mountPropagation":{},"f:name":{}}}},"k:{\"name\":\"liveness-probe\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"node-driver-registrar\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"DRIVER_REG_SOCK_PATH\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/csi\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/registration\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostNetwork":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"azure-cred\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"device-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"mountpoint-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"registration-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"scsi-host-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"socket-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"sys-devices-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/disk.csi.azure.com","type":"DirectoryOrCreate"}},{"name":"mountpoint-dir","hostPath":{"path":"/var/lib/kubelet/","type":"DirectoryOrCreate"}},{"name":"registration-dir","hostPath":{"path":"/var/lib/kubelet/plugins_registry/","type":"DirectoryOrCreate"}},{"name":"azure-cred","hostPath":{"path":"/etc/kubernetes/","type":"DirectoryOrCreate"}},{"name":"device-dir","hostPath":{"path":"/dev","type":"Directory"}},{"name":"sys-devices-dir","hostPath":{"path":"/sys/bus/scsi/devices","type":"Directory"}},{"name":"scsi-host-dir","hostPath":{"path":"/sys/class/scsi_host/","type":"Directory"}},{"name":"kube-api-access-2rkfq","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"liveness-probe","image":"mcr.microsoft.com/oss/kubernetes-csi/livenessprobe:v2.10.0","args":["--csi-address=/csi/csi.sock","--probe-timeout=3s","--health-port=29603","--v=2"],"env":[{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"}],"resources":{"limits":{"memory":"100Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"kube-api-access-2rkfq","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"node-driver-registrar","image":"mcr.microsoft.com/oss/kubernetes-csi/csi-node-driver-registrar:v2.8.0","args":["--csi-address=$(ADDRESS)","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)","--v=2"],"env":[{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"ADDRESS","value":"/csi/csi.sock"},{"name":"DRIVER_REG_SOCK_PATH","value":"/var/lib/kubelet/plugins/disk.csi.azure.com/csi.sock"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"memory":"100Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"registration-dir","mountPath":"/registration"},{"name":"kube-api-access-2rkfq","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/csi-node-driver-registrar","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)","--mode=kubelet-registration-probe"]},"initialDelaySeconds":60,"timeoutSeconds":30,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"azuredisk","image":"mcr.microsoft.com/oss/kubernetes-csi/azuredisk-csi:v1.26.5","args":["--v=5","--endpoint=$(CSI_ENDPOINT)","--nodeid=$(KUBE_NODE_NAME)","--enable-perf-optimization=true"],"ports":[{"name":"healthz","hostPort":29603,"containerPort":29603,"protocol":"TCP"}],"env":[{"name":"CSI_ENDPOINT","value":"unix:///csi/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"AZURE_CREDENTIAL_FILE","value":"/etc/kubernetes/azure.json"}],"resources":{"limits":{"memory":"200Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"socket-dir","mountPath":"/csi"},{"name":"mountpoint-dir","mountPath":"/var/lib/kubelet/","mountPropagation":"Bidirectional"},{"name":"azure-cred","mountPath":"/etc/kubernetes/"},{"name":"device-dir","mountPath":"/dev"},{"name":"sys-devices-dir","mountPath":"/sys/bus/scsi/devices"},{"name":"scsi-host-dir","mountPath":"/sys/class/scsi_host/"},{"name":"kube-api-access-2rkfq","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":"healthz","scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"csi-azuredisk-node-sa","serviceAccount":"csi-azuredisk-node-sa","nodeName":"aks-newpool-21676506-vmss000000","hostNetwork":true,"securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchFields":[{"key":"metadata.name","operator":"In","values":["aks-newpool-21676506-vmss000000"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"operator":"Exists","effect":"NoExecute"},{"operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:07:46Z"}],"hostIP":"10.224.0.6","podIP":"10.224.0.6","podIPs":[{"ip":"10.224.0.6"}],"startTime":"2023-08-03T16:07:48Z","containerStatuses":[{"name":"azuredisk","state":{"running":{"startedAt":"2023-08-03T16:07:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/azuredisk-csi:v1.26.5","imageID":"sha256:35ade7efb71746907aaaa59296b8cb93b7c400a9f4385c92ade5b30fa7e609b6","containerID":"containerd://5ee474a9546aa7972b6a599b7e2db0896e983eb40462165d1cae76f97b884ce6","started":true},{"name":"liveness-probe","state":{"running":{"startedAt":"2023-08-03T16:07:52Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/livenessprobe:v2.10.0","imageID":"sha256:a0a744de06b9862ee665fcf47a17ec3425f67915a2e603f5636f6eba17378c7e","containerID":"containerd://e59ec100b97f1f77362a735b70cb450859426c9ac92034ab8eed28b563306a1b","started":true},{"name":"node-driver-registrar","state":{"running":{"startedAt":"2023-08-03T16:07:53Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes-csi/csi-node-driver-registrar:v2.8.0","imageID":"sha256:aa15d611f49d8331e2266cf02d8f5fb0d32caad598897433fbd46234b88ebaf4","containerID":"containerd://7862fea0a02ba813d57d6ae516b607f05c32fe28808e63cfcd2f934254562ab3","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"konnectivity-agent-7787bbbfb8-qz7r8","generateName":"konnectivity-agent-7787bbbfb8-","namespace":"kube-system","uid":"874217c9-e240-43d9-974c-374127fa84e9","resourceVersion":"72099741","creationTimestamp":"2023-08-03T16:10:09Z","labels":{"app":"konnectivity-agent","component":"tunnel","kubernetes.azure.com/managedby":"aks","pod-template-hash":"7787bbbfb8"},"annotations":{"checksum/client-cert":"8b0bce95e8d0d389bfaa81f5161ec1affc6c487089547d951dd850e642401c26","checksum/service-account-key":"af8d8dd653753b896fb85d25ed8249f6268459d66f7ec77e45a192e52a24e5bc","kubernetes.io/config.seen":"2023-08-03T16:10:09.529566735Z","kubernetes.io/config.source":"api"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"konnectivity-agent-7787bbbfb8","uid":"77ae4b9c-b8f7-40c7-b1fb-779c0e8d8564","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:10:09Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:checksum/client-cert":{},"f:checksum/service-account-key":{}},"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:component":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"77ae4b9c-b8f7-40c7-b1fb-779c0e8d8564\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:automountServiceAccountToken":{},"f:containers":{"k:{\"name\":\"konnectivity-agent\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/certs\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"certs\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}}}}}}]},"spec":{"volumes":[{"name":"certs","secret":{"secretName":"konnectivity-certs","defaultMode":420}}],"containers":[{"name":"konnectivity-agent","image":"mcr.microsoft.com/oss/kubernetes/apiserver-network-proxy/agent:v0.0.33-hotfix.20221110","command":["/proxy-agent"],"args":["--proxy-server-host=ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io","--proxy-server-port=443","--health-server-port=8082","--keepalive-time=30s","--agent-key=/certs/client.key","--agent-cert=/certs/client.crt","--ca-cert=/certs/ca.crt","--alpn-proto=konnectivity","-v=2"],"env":[{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"20m","memory":"20Mi"}},"volumeMounts":[{"name":"certs","mountPath":"/certs"}],"livenessProbe":{"httpGet":{"path":"/ready","port":8082,"scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":60,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/ready","port":8082,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"konnectivity-agent","serviceAccount":"konnectivity-agent","automountServiceAccountToken":false,"nodeName":"aks-newpool-21676506-vmss000000","securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.azure.com/cluster","operator":"Exists"},{"key":"type","operator":"NotIn","values":["virtual-kubelet"]},{"key":"kubernetes.io/os","operator":"In","values":["linux"]}]}]},"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"preference":{"matchExpressions":[{"key":"kubernetes.azure.com/mode","operator":"In","values":["system"]}]}}]},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":10,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app","operator":"In","values":["konnectivity-agent"]}]},"topologyKey":"topology.kubernetes.io/zone"}},{"weight":5,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app","operator":"In","values":["konnectivity-agent"]}]},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":30},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:11Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:11Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"}],"hostIP":"10.224.0.6","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2023-08-03T16:10:09Z","containerStatuses":[{"name":"konnectivity-agent","state":{"running":{"startedAt":"2023-08-03T16:10:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/oss/kubernetes/apiserver-network-proxy/agent:v0.0.33-hotfix.20221110","imageID":"sha256:d8d8810820ff9043fe0dab5c9650a2bbc5763163206bb1720190378c463b6a27","containerID":"containerd://8ff392398b4990f118d7df06e612b1bbe4776eff108caaf8544c875956668b70","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"ama-logs-rs-6446bfdc5d-ww4wj","generateName":"ama-logs-rs-6446bfdc5d-","namespace":"kube-system","uid":"873e10c1-78c2-4f73-a44d-b01cc7a4a24c","resourceVersion":"72099743","creationTimestamp":"2023-08-03T16:10:09Z","labels":{"kubernetes.azure.com/managedby":"aks","pod-template-hash":"6446bfdc5d","rsName":"ama-logs-rs"},"annotations":{"WSID":"ZWM5MmQzZjMtOGEwMS00ZjQ1LThkOWItMWNjMmM4MmFhMjEx","agentVersion":"azure-mdsd-1.17.0","cluster-autoscaler.kubernetes.io/safe-to-evict":"true","dockerProviderVersion":"18.0.1-0","kubernetes.azure.com/no-http-proxy-vars":"true","kubernetes.io/config.seen":"2023-08-03T16:10:09.531464372Z","kubernetes.io/config.source":"api","schema-versions":"v1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"ama-logs-rs-6446bfdc5d","uid":"7154a13c-dc2a-416d-8ba8-0649db3899fb","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-08-03T16:10:09Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:WSID":{},"f:agentVersion":{},"f:cluster-autoscaler.kubernetes.io/safe-to-evict":{},"f:dockerProviderVersion":{},"f:kubernetes.azure.com/no-http-proxy-vars":{},"f:schema-versions":{}},"f:generateName":{},"f:labels":{".":{},"f:kubernetes.azure.com/managedby":{},"f:pod-template-hash":{},"f:rsName":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"7154a13c-dc2a-416d-8ba8-0649db3899fb\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"addon-token-adapter\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AZMON_COLLECT_ENV\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{},"f:drop":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}},"k:{\"name\":\"ama-logs\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"AKS_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_NODE_RESOURCE_GROUP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_REGION\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"AKS_RESOURCE_ID\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CONTAINER_MEMORY_LIMIT_IN_BYTES\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{}}},"k:{\"name\":\"CONTROLLER_TYPE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"NODE_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"NUM_OF_FLUENTD_WORKERS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{}}},"k:{\"name\":\"SIDECAR_SCRAPING_ENABLED\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"USER_ASSIGNED_IDENTITY_CLIENT_ID\"}":{".":{},"f:name":{}},"k:{\"name\":\"USING_AAD_MSI_AUTH\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":25224,\"protocol\":\"UDP\"}":{".":{},"f:containerPort":{},"f:protocol":{}},"k:{\"containerPort\":25225,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}},"k:{\"containerPort\":25227,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/ama-logs-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/config/osm-settings\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/settings\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/config/settings/adx\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/kubernetes/host\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/omsagent-secret\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/var/log\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/run/host\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:priorityClassName":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"ama-logs-adx-secret\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:optional":{},"f:secretName":{}}},"k:{\"name\":\"ama-logs-rs-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"ama-logs-secret\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}},"k:{\"name\":\"azure-json-path\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"container-hostname\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"docker-sock\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"host-log\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"osm-settings-vol-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}},"k:{\"name\":\"settings-vol-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{},"f:optional":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"docker-sock","hostPath":{"path":"/var/run","type":""}},{"name":"container-hostname","hostPath":{"path":"/etc/hostname","type":""}},{"name":"host-log","hostPath":{"path":"/var/log","type":""}},{"name":"azure-json-path","hostPath":{"path":"/etc/kubernetes","type":""}},{"name":"ama-logs-secret","secret":{"secretName":"ama-logs-secret","defaultMode":420}},{"name":"ama-logs-rs-config","configMap":{"name":"ama-logs-rs-config","defaultMode":420}},{"name":"settings-vol-config","configMap":{"name":"container-azm-ms-agentconfig","defaultMode":420,"optional":true}},{"name":"ama-logs-adx-secret","secret":{"secretName":"ama-logs-adx-secret","defaultMode":420,"optional":true}},{"name":"osm-settings-vol-config","configMap":{"name":"container-azm-ms-osmconfig","defaultMode":420,"optional":true}},{"name":"kube-api-access-nwjc2","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"addon-token-adapter","image":"mcr.microsoft.com/aks/msi/addon-token-adapter:master.221118.2","command":["/addon-token-adapter"],"args":["--secret-namespace=kube-system","--secret-name=aad-msi-auth-token","--token-server-listening-port=8888","--health-server-listening-port=9999"],"env":[{"name":"AZMON_COLLECT_ENV","value":"false"},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"}],"resources":{"limits":{"cpu":"500m","memory":"500Mi"},"requests":{"cpu":"100m","memory":"100Mi"}},"volumeMounts":[{"name":"kube-api-access-nwjc2","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":9999,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]}}},{"name":"ama-logs","image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","ports":[{"containerPort":25225,"protocol":"TCP"},{"containerPort":25224,"protocol":"UDP"},{"name":"in-rs-tcp","containerPort":25227,"protocol":"TCP"}],"env":[{"name":"SIDECAR_SCRAPING_ENABLED","value":"true"},{"name":"CONTROLLER_TYPE","value":"ReplicaSet"},{"name":"AKS_NODE_RESOURCE_GROUP","value":"MC_ci-logs-prod-aks_ci-logs-prod-aks-syslog_eastus"},{"name":"AKS_REGION","value":"eastus"},{"name":"CONTAINER_MEMORY_LIMIT_IN_BYTES","valueFrom":{"resourceFieldRef":{"containerName":"ama-logs","resource":"limits.memory","divisor":"0"}}},{"name":"USING_AAD_MSI_AUTH","value":"true"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"AKS_RESOURCE_ID","value":"/subscriptions/9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb/resourceGroups/ci-logs-prod-aks/providers/Microsoft.ContainerService/managedClusters/ci-logs-prod-aks-syslog"},{"name":"KUBERNETES_PORT","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"KUBERNETES_SERVICE_HOST","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"AKS_CLUSTER_NAME","value":"ci-logs-prod-aks-syslog"},{"name":"NUM_OF_FLUENTD_WORKERS","valueFrom":{"resourceFieldRef":{"containerName":"ama-logs","resource":"limits.cpu","divisor":"0"}}},{"name":"KUBERNETES_PORT_443_TCP_ADDR","value":"ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io"},{"name":"KUBERNETES_PORT_443_TCP","value":"tcp://ci-logs-prod-aks-syslog-dns-1ebf13ac.hcp.eastus.azmk8s.io:443"},{"name":"USER_ASSIGNED_IDENTITY_CLIENT_ID"}],"resources":{"limits":{"cpu":"1","memory":"1536Mi"},"requests":{"cpu":"150m","memory":"250Mi"}},"volumeMounts":[{"name":"docker-sock","mountPath":"/var/run/host"},{"name":"host-log","mountPath":"/var/log"},{"name":"azure-json-path","mountPath":"/etc/kubernetes/host"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/ama-logs-secret"},{"name":"ama-logs-secret","readOnly":true,"mountPath":"/etc/omsagent-secret"},{"name":"ama-logs-rs-config","mountPath":"/etc/config"},{"name":"settings-vol-config","readOnly":true,"mountPath":"/etc/config/settings"},{"name":"ama-logs-adx-secret","readOnly":true,"mountPath":"/etc/config/settings/adx"},{"name":"osm-settings-vol-config","readOnly":true,"mountPath":"/etc/config/osm-settings"},{"name":"kube-api-access-nwjc2","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/opt/livenessprobe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":15,"periodSeconds":60,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"ama-logs","serviceAccount":"ama-logs","nodeName":"aks-newpool-21676506-vmss000000","securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.io/os","operator":"In","values":["linux"]},{"key":"kubernetes.azure.com/cluster","operator":"Exists"},{"key":"type","operator":"NotIn","values":["virtual-kubelet"]}]}]},"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"preference":{"matchExpressions":[{"key":"kubernetes.azure.com/mode","operator":"In","values":["system"]}]}},{"weight":1,"preference":{"matchExpressions":[{"key":"storageprofile","operator":"NotIn","values":["managed"]}]}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical","priority":2000001000,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:12Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:12Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-08-03T16:10:09Z"}],"hostIP":"10.224.0.6","podIP":"10.244.1.5","podIPs":[{"ip":"10.244.1.5"}],"startTime":"2023-08-03T16:10:09Z","containerStatuses":[{"name":"addon-token-adapter","state":{"running":{"startedAt":"2023-08-03T16:10:11Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/aks/msi/addon-token-adapter:master.221118.2","imageID":"sha256:6284cbe7030dfa0d79382ea3f86cf3b892d0ee17807b01d921e97a7877e27313","containerID":"containerd://2f837f9fc3e8a785e78a12e8f863207b0977d369efaad74ea4e80f73a1b3e6af","started":true},{"name":"ama-logs","state":{"running":{"startedAt":"2023-08-03T16:10:11Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod:3.1.11","imageID":"mcr.microsoft.com/azuremonitor/containerinsights/ciprod@sha256:e1568171272f7e1271cf41f9e7c82cb5dccf29a6d515de242f724b11edfdf7c6","containerID":"containerd://264708b1e0a32d5d7fda007ffa244ebc0fac256168002eb46d1adad1e6916404","started":true}],"qosClass":"Burstable"}}]}
